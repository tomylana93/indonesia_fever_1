local transf = require "transf"
local vec3 = require "vec3"
local modulesutil = require "modulesutil"
local trainstationutil = require "modules/trainstationutil"
local constructionutil = require "constructionutil"

local cargoCapacity = 20
local passengerCapacity = 0

--Begin Generated
local generatedData = {
	["cargo_station_main_1_assets_1"] = {
		models = {
			["asset/ground/barrel_wood.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -7.70000, -0.96000, 0.79500, 1.00000 },
				{ 0.41628, 0.90924, 0.00000, 0.00000, -0.90924, 0.41628, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -8.88000, -1.38000, 0.79500, 1.00000 },
				{ -0.23175, 0.97278, 0.00000, 0.00000, -0.97278, -0.23175, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -8.30000, -2.48000, 0.79500, 1.00000 },
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -8.76000, -3.90000, 0.79500, 1.00000 },
			},
			["asset/ground/container_small_steel.mdl"] = {
				{ 0.99973, -0.02326, 0.00000, 0.00000, 0.02326, 0.99973, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 3.81243, -3.81488, 0.80000, 1.00000 },
				{ 0.99941, -0.03432, 0.00000, 0.00000, 0.03432, 0.99941, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.59070, -4.21802, 0.80000, 1.00000 },
			},
			["asset/industry/pallet_01.mdl"] = {
				{ -0.09758, -0.99523, 0.00000, 0.00000, 0.99523, -0.09758, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 8.08800, -2.88800, 0.80400, 1.00000 },
				{ 0.00306, -0.99970, -0.02424, 0.00000, 0.12530, 0.02443, -0.99182, 0.00000, 0.99211, 0.00000, 0.12533, 0.00000, 8.84000, -6.49000, 1.38500, 1.00000 },
				{ -0.43707, -0.05255, -0.89789, 0.00000, -0.11176, 0.99373, -0.00376, 0.00000, 0.89246, 0.09871, -0.44021, 0.00000, -0.60400, -13.10500, 1.31500, 1.00000 },
				{ -0.14504, -0.98882, -0.03472, 0.00000, 0.23421, -0.00022, -0.97219, 0.00000, 0.96131, -0.14914, 0.23163, 0.00000, 8.98612, -7.22001, 1.37384, 1.00000 },
			},
			-- ["asset/industry/wood_plates_01.mdl"] = {
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -25.03000, 0.00000, 1.00000 },
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -23.65000, 0.00000, 1.00000 },
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -22.44000, 0.00000, 1.00000 },
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -22.91000, 0.70000, 1.00000 },
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -25.06000, 0.35000, 1.00000 },
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -26.93000, 0.35000, 1.00000 },
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.76500, -23.61000, 0.35000, 1.00000 },
				-- { -0.01878, 0.99979, 0.00815, 0.00000, -0.99982, -0.01877, -0.00044, 0.00000, -0.00029, -0.00816, 0.99997, 0.00000, 2.76500, -22.40000, 0.35000, 1.00000 },
			-- },
			-- ["asset/industry/wood_plates_02.mdl"] = {
				-- { 0.00000, 1.00000, 0.00000, 0.00000, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.75000, -26.92000, 0.00000, 1.00000 },
			-- },
			["asset/industry/wooden_box_02.mdl"] = {
				--{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -7.73000, -22.07000, 0.00000, 1.00000 },
				--{ -0.01047, 0.99995, 0.00000, 0.00000, -0.99995, -0.01047, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -8.30000, -22.70000, 0.88000, 1.00000 },
				--{ 0.99939, -0.03490, 0.00000, 0.00000, 0.03490, 0.99939, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -7.73000, -23.27000, 0.00000, 1.00000 },
				--{ -0.99933, -0.03664, 0.00000, 0.00000, 0.03664, -0.99933, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -8.81000, -22.07000, 0.00000, 1.00000 },
				--{ -1.00000, -0.00175, 0.00000, 0.00000, 0.00175, -1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -8.76676, -23.24921, -0.00000, 1.00000 },
				{ -0.99692, 0.07846, 0.00000, 0.00000, -0.07846, -0.99692, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.30000, -11.75000, 0.80000, 1.00000 },
				{ -0.07928, 0.99685, -0.00000, 0.00000, -0.99685, -0.07928, -0.00000, 0.00000, -0.00000, -0.00000, 1.00000, 0.00000, 1.58164, -11.77954, 0.80000, 1.00000 },
				{ -0.99540, -0.09585, 0.00000, 0.00000, 0.09585, -0.99540, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.19879, -13.03602, 0.80000, 1.00000 },
				{ -0.04668, 0.99891, 0.00000, 0.00000, -0.99891, -0.04668, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 1.41317, -12.91909, 0.80000, 1.00000 },
				{ -0.99942, -0.03417, 0.00000, 0.00000, 0.03417, -0.99942, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 2.90888, -12.84919, 0.80000, 1.00000 },
			},
			["station/rail/asset/cargo_lamps.mdl"] = {
				--{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -1.00000, -20.00000, 0.00000, 1.00000 },
				--{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.00000, -20.00000, 0.00000, 1.00000 },
			},
			["station/rail/asset/cargo_name_board.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -0.55000, -15.50000, 0.00000, 1.00000 },
			},
			["station/rail/asset/cargo_pallet_jack.mdl"] = {
				{ 0.92388, -0.38268, 0.00000, 0.00000, 0.38268, 0.92388, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -1.08000, -11.64000, 0.80000, 1.00000 },
				{ 0.99863, -0.05234, 0.00000, 0.00000, 0.05234, 0.99863, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 7.69000, -2.84000, 0.80000, 1.00000 },
			},
			["station/rail/asset/cargo_speakers.mdl"] = {
				{ 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, 0.00000, 0.00000, 0.00000, 1.00000, 0.00000, -0.40000, -5.95000, 0.80000, 1.00000 },
			},
		},
	},
}
--End Generated

function data()

return {
	cost = {
		price = 10000,
	},
	category = {
		categories = { "cargo buildings", },
	},
	description = {
		name = _("Small main building"),
		description = _("Small main building with street access for cargo stations. Provides capacity for 20 cargo items."),
		icon = "ui/construction/station/rail/modular_station/main_building_1_cargo.tga"
	}, 
	availability = {
		yearFrom = 0,
	},
	type = "rail_main_building_size2",
	order = {
		value = 930,
	},
	metadata = {
		era = 5,
		level =1,
		span = {1, 2},
		moreCapacity = {
			cargo = cargoCapacity,
			passenger = passengerCapacity
		},
		snapPoint = transf.rotZTransl(-math.pi / 2, vec3.new(-14, 0, 0))
	},
	
	updateFn = function(result, transform, tag, slotId, addModuleFn, params)
		local config = {
			extend = { 11, -11, 0, -17, 4, 0 },
			main = "station/rail/cargo/station_1_main.mdl",
			con_left = { "station/rail/cargo/station_1_main_con_l_1.mdl", "station/rail/cargo/station_1_main_con_l_1.mdl", "station/rail/cargo/station_1_main_con_l_1.mdl",},
			con_right = { "station/rail/cargo/station_1_main_con_r_1.mdl", "station/rail/cargo/station_1_main_con_r_1.mdl", "station/rail/cargo/station_1_main_con_r_1.mdl",},
			end_left = "station/rail/cargo/station_1_main_end_l.mdl",
			end_right = "station/rail/cargo/station_1_main_end_r.mdl",
			slotIdOffset = 0,
			translationY = 0,
		}
	
		local tran = trainstationutil.MakeMainBuildingModule(result, transform, tag, slotId, addModuleFn, params, config)
		constructionutil.addModels(generatedData["cargo_station_main_1_assets_1"], result.models, tran, tag)
	end,
	
	getModelsFn = function()
		
		local result = {
			{ 
				id = "station/rail/cargo/station_1_main.mdl",
				transf = transf.rotZTransl(math.rad(-90), vec3.new(15,0,0)),
			},
			{ 
				id = "station/rail/cargo/station_1_main_end_l.mdl",
				transf = transf.rotZTransl(math.rad(-90), vec3.new(15,0,0)),
			},
			{ 
				id = "station/rail/cargo/station_1_main_end_r.mdl",
				transf = transf.rotZTransl(math.rad(-90), vec3.new(15,0,0)),
			},
		}
		
		return result
	end
}

end
